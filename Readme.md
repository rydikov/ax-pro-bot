# Установка

## Docker
Для установки необходим компьютер или виртуальный сервер с [Docker](https://docs.docker.com/engine/install/). В качестве виртуального сервера подойдет бесплатный тариф от [cloud.ru](cloud.ru), но нужно будет объединить в приватную сеть этот сервер и охранную систему. Но там есть плата за IP адрес. Приватную сеть можно настроить с помощью [OpenVpn](https://github.com/kylemanna/docker-openvpn), который также запускается через Docker и может находиться на этом сервере.

## Клонирование проекта
```
git clone https://github.com/rydikov/ax-pro-bot.git
```

## Переменные окружения
В каталоге с проектом необходимо создать файл .env и добавить в него следующие переменные в формате:
```
ПЕРЕМЕННАЯ = ЗНАЧЕНИЕ
```
Список обязательных переменных:
```
TELEGRAM_TOKEN - Токен бота
TELEGRAM_ADMIN_IDS - Список идентификаторов пользователей, которые могут управлять охранной системой
AX_PRO_HOST = IP адрес охранной системы
AX_PRO_USER = Имя пользователя охранной системы
AX_PRO_PASSWORD = Пароль пользователя охранной системы
```

## Сборка 
Внутри каталога с проектом выполните
```
docker compose build
```

## Запуск
Внутри каталога с проектом выполните
```
docker compose up
```
Если нужно запустить в режиме демона, то
```
docker compose up -d
```

## Доступные команды бота
```
/arm - Поставить на охрану
/disarm - Снять с охраны
/status - Статус разделов
/temperature - Температура датчиков
/beep id-сирены - Пискнуть сиреной, без указания id-сирены сработает сирена с первым ID
```
 

